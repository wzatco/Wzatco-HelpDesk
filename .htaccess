# Hostinger Next.js + Socket.IO Configuration
# For: orangered-alpaca-614506.hostingersite.com

PassengerAppRoot /home/u394742293/domains/orangered-alpaca-614506.hostingersite.com/public_html
PassengerAppType node
PassengerNodejs /opt/alt/alt-nodejs20/root/bin/node
PassengerStartupFile server.js
PassengerBaseURI /
PassengerAppEnv production

# Enable static file serving
<IfModule mod_rewrite.c>
  RewriteEngine On
  RewriteBase /
  
  # Serve Next.js static files from .next/static
  RewriteCond %{REQUEST_URI} ^/_next/static/
  RewriteCond %{DOCUMENT_ROOT}/.next/static/%{REQUEST_URI} -f
  RewriteRule ^_next/static/(.*)$ /.next/static/$1 [L]
  
  # Serve public files
  RewriteCond %{REQUEST_URI} !^/api/
  RewriteCond %{DOCUMENT_ROOT}%{REQUEST_URI} -f
  RewriteRule ^ - [L]
</IfModule>

# Allow access to .next directory
<Directory "/home/u394742293/domains/orangered-alpaca-614506.hostingersite.com/public_html/.next">
  Options -Indexes +FollowSymLinks
  AllowOverride None
  Require all granted
</Directory>
